const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/stegaEncodeSourceMap.CSLIt5lA.js","_astro/index.Cd_vQiNd.js"])))=>i.map(i=>d[i]);
import{r as xt}from"./index.Cd_vQiNd.js";function Dn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ke={exports:{}},ge={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct;function Fn(){if(Ct)return ge;Ct=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:o,ref:i!==void 0?i:null,props:s}}return ge.Fragment=e,ge.jsx=r,ge.jsxs=r,ge}var At;function Un(){return At||(At=1,Ke.exports=Fn()),Ke.exports}var S=Un();function Re(t){return t._type==="span"&&"text"in t&&typeof t.text=="string"&&(typeof t.marks>"u"||Array.isArray(t.marks)&&t.marks.every(e=>typeof e=="string"))}function sr(t){return typeof t._type=="string"&&t._type[0]!=="@"&&(!("markDefs"in t)||!t.markDefs||Array.isArray(t.markDefs)&&t.markDefs.every(e=>typeof e._key=="string"))&&"children"in t&&Array.isArray(t.children)&&t.children.every(e=>typeof e=="object"&&"_type"in e)}function or(t){return sr(t)&&"listItem"in t&&typeof t.listItem=="string"&&(typeof t.level>"u"||typeof t.level=="number")}function ar(t){return t._type==="@list"}function ur(t){return t._type==="@span"}function cr(t){return t._type==="@text"}const St=["strong","em","code","underline","strike-through"];function Vn(t,e,r){if(!Re(t)||!t.marks)return[];if(!t.marks.length)return[];const n=t.marks.slice(),i={};return n.forEach(s=>{i[s]=1;for(let o=e+1;o<r.length;o++){const a=r[o];if(a&&Re(a)&&Array.isArray(a.marks)&&a.marks.indexOf(s)!==-1)i[s]++;else break}}),n.sort((s,o)=>Nn(i,s,o))}function Nn(t,e,r){const n=t[e],i=t[r];if(n!==i)return i-n;const s=St.indexOf(e),o=St.indexOf(r);return s!==o?s-o:e.localeCompare(r)}function Bn(t){var e;const{children:r}=t,n=t.markDefs??[];if(!r||!r.length)return[];const i=r.map(Vn),s={_type:"@span",children:[],markType:"<unknown>"};let o=[s];for(let a=0;a<r.length;a++){const c=r[a];if(!c)continue;const u=i[a]||[];let p=1;if(o.length>1)for(p;p<o.length;p++){const d=((e=o[p])==null?void 0:e.markKey)||"",l=u.indexOf(d);if(l===-1)break;u.splice(l,1)}o=o.slice(0,p);let f=o[o.length-1];if(f){for(const d of u){const l=n?.find(w=>w._key===d),v=l?l._type:d,h={_type:"@span",_key:c._key,children:[],markDef:l,markType:v,markKey:d};f.children.push(h),o.push(h),f=h}if(Re(c)){const d=c.text.split(`
`);for(let l=d.length;l-- >1;)d.splice(l,0,`
`);f.children=f.children.concat(d.map(l=>({_type:"@text",text:l})))}else f.children=f.children.concat(c)}}return s.children}function Hn(t,e){const r=[];let n;for(let i=0;i<t.length;i++){const s=t[i];if(s){if(!or(s)){r.push(s),n=void 0;continue}if(!n){n=Te(s,i,e),r.push(n);continue}if(Wn(s,n)){n.children.push(s);continue}if((s.level||1)>n.level){const o=Te(s,i,e);if(e==="html"){const a=n.children[n.children.length-1],c={...a,children:[...a.children,o]};n.children[n.children.length-1]=c}else n.children.push(o);n=o;continue}if((s.level||1)<n.level){const o=r[r.length-1],a=o&&at(o,s);if(a){n=a,n.children.push(s);continue}n=Te(s,i,e),r.push(n);continue}if(s.listItem!==n.listItem){const o=r[r.length-1],a=o&&at(o,{level:s.level||1});if(a&&a.listItem===s.listItem){n=a,n.children.push(s);continue}else{n=Te(s,i,e),r.push(n);continue}}console.warn("Unknown state encountered for block",s),r.push(s)}}return r}function Wn(t,e){return(t.level||1)===e.level&&t.listItem===e.listItem}function Te(t,e,r){return{_type:"@list",_key:`${t._key||`${e}`}-parent`,mode:r,level:t.level||1,listItem:t.listItem,children:[t]}}function at(t,e){const r=e.level||1,n=e.listItem||"normal",i=typeof e.listItem=="string";if(ar(t)&&(t.level||1)===r&&i&&(t.listItem||"normal")===n)return t;if(!("children"in t))return;const s=t.children[t.children.length-1];return s&&!Re(s)?at(s,e):void 0}function lr(t){let e="";return t.children.forEach(r=>{cr(r)?e+=r.text:ur(r)&&(e+=lr(r))}),e}const zn="html",Gn={number:({children:t})=>S.jsx("ol",{children:t}),bullet:({children:t})=>S.jsx("ul",{children:t})},Qn=({children:t})=>S.jsx("li",{children:t}),Yn=({children:t,value:e})=>S.jsx("a",{href:e?.href,children:t}),Jn={textDecoration:"underline"},Xn={em:({children:t})=>S.jsx("em",{children:t}),strong:({children:t})=>S.jsx("strong",{children:t}),code:({children:t})=>S.jsx("code",{children:t}),underline:({children:t})=>S.jsx("span",{style:Jn,children:t}),"strike-through":({children:t})=>S.jsx("del",{children:t}),link:Yn},xe=(t,e)=>`[@portabletext/react] Unknown ${t}, specify a component for it in the \`components.${e}\` prop`,fr=t=>xe(`block type "${t}"`,"types"),Kn=t=>xe(`mark type "${t}"`,"marks"),Zn=t=>xe(`block style "${t}"`,"block"),ei=t=>xe(`list style "${t}"`,"list"),ti=t=>xe(`list item style "${t}"`,"listItem");function ri(t){console.warn(t)}const _t={display:"none"},ni=({value:t,isInline:e})=>{const r=fr(t._type);return e?S.jsx("span",{style:_t,children:r}):S.jsx("div",{style:_t,children:r})},ii=({markType:t,children:e})=>S.jsx("span",{className:`unknown__pt__mark__${t}`,children:e}),si=({children:t})=>S.jsx("p",{children:t}),oi=({children:t})=>S.jsx("ul",{children:t}),ai=({children:t})=>S.jsx("li",{children:t}),ui=()=>S.jsx("br",{}),ci={normal:({children:t})=>S.jsx("p",{children:t}),blockquote:({children:t})=>S.jsx("blockquote",{children:t}),h1:({children:t})=>S.jsx("h1",{children:t}),h2:({children:t})=>S.jsx("h2",{children:t}),h3:({children:t})=>S.jsx("h3",{children:t}),h4:({children:t})=>S.jsx("h4",{children:t}),h5:({children:t})=>S.jsx("h5",{children:t}),h6:({children:t})=>S.jsx("h6",{children:t})},Ot={types:{},block:ci,marks:Xn,list:Gn,listItem:Qn,hardBreak:ui,unknownType:ni,unknownMark:ii,unknownList:oi,unknownListItem:ai,unknownBlockStyle:si};function li(t,e){const{block:r,list:n,listItem:i,marks:s,types:o,...a}=e;return{...t,block:be(t,e,"block"),list:be(t,e,"list"),listItem:be(t,e,"listItem"),marks:be(t,e,"marks"),types:be(t,e,"types"),...a}}function be(t,e,r){const n=e[r],i=t[r];return typeof n=="function"||n&&typeof i=="function"?n:n?{...i,...n}:i}function fi({value:t,components:e,listNestingMode:r,onMissingComponent:n=ri}){const i=n||di,s=Array.isArray(t)?t:[t],o=Hn(s,r||zn),a=xt.useMemo(()=>e?li(Ot,e):Ot,[e]),c=xt.useMemo(()=>hi(a,i),[a,i]),u=o.map((p,f)=>c({node:p,index:f,isInline:!1,renderNode:c}));return S.jsx(S.Fragment,{children:u})}const hi=(t,e)=>{function r(f){const{node:d,index:l,isInline:v}=f,h=d._key||`node-${l}`;return ar(d)?s(d,l,h):or(d)?i(d,l,h):ur(d)?o(d,l,h):n(d)?p(d,l,h,v):sr(d)?a(d,l,h,v):cr(d)?c(d,h):u(d,l,h,v)}function n(f){return f._type in t.types}function i(f,d,l){const v=Tt({node:f,index:d,isInline:!1,renderNode:r}),h=t.listItem,w=(typeof h=="function"?h:h[f.listItem])||t.unknownListItem;if(w===t.unknownListItem){const x=f.listItem||"bullet";e(ti(x),{type:x,nodeType:"listItemStyle"})}let E=v.children;if(f.style&&f.style!=="normal"){const{listItem:x,...C}=f;E=r({node:C,index:d,isInline:!1})}return S.jsx(w,{value:f,index:d,isInline:!1,renderNode:r,children:E},l)}function s(f,d,l){const v=f.children.map((E,x)=>r({node:E._key?E:{...E,_key:`li-${d}-${x}`},index:x,isInline:!1})),h=t.list,w=(typeof h=="function"?h:h[f.listItem])||t.unknownList;if(w===t.unknownList){const E=f.listItem||"bullet";e(ei(E),{nodeType:"listStyle",type:E})}return S.jsx(w,{value:f,index:d,isInline:!1,renderNode:r,children:v},l)}function o(f,d,l){const{markDef:v,markType:h,markKey:w}=f,E=t.marks[h]||t.unknownMark,x=f.children.map((C,O)=>r({node:C,index:O,isInline:!0}));return E===t.unknownMark&&e(Kn(h),{nodeType:"mark",type:h}),S.jsx(E,{text:lr(f),value:v,markType:h,markKey:w,renderNode:r,children:x},l)}function a(f,d,l,v){const{_key:h,...w}=Tt({node:f,index:d,isInline:v,renderNode:r}),E=w.node.style||"normal",x=(typeof t.block=="function"?t.block:t.block[E])||t.unknownBlockStyle;return x===t.unknownBlockStyle&&e(Zn(E),{nodeType:"blockStyle",type:E}),S.jsx(x,{...w,value:w.node,renderNode:r},l)}function c(f,d){if(f.text===`
`){const l=t.hardBreak;return l?S.jsx(l,{},d):`
`}return f.text}function u(f,d,l,v){const h={value:f,isInline:v,index:d,renderNode:r};e(fr(f._type),{nodeType:"block",type:f._type});const w=t.unknownType;return S.jsx(w,{...h},l)}function p(f,d,l,v){const h={value:f,isInline:v,index:d,renderNode:r},w=t.types[f._type];return w?S.jsx(w,{...h},l):null}return r};function Tt(t){const{node:e,index:r,isInline:n,renderNode:i}=t,s=Bn(e).map((o,a)=>i({node:o,isInline:!0,index:a,renderNode:i}));return{_key:e._key||`block-${r}`,children:s,index:r,isInline:n,node:e}}function di(){}var $e={exports:{}},pi=$e.exports,kt;function yi(){return kt||(kt=1,(function(t,e){(function(r,n){t.exports=n()})(pi,(function(){function r(y,g){(g==null||g>y.length)&&(g=y.length);for(var b=0,m=Array(g);b<g;b++)m[b]=y[b];return m}function n(y,g){var b=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(b)return(b=b.call(y)).next.bind(b);if(Array.isArray(y)||(b=s(y))||g){b&&(y=b);var m=0;return function(){return m>=y.length?{done:!0}:{done:!1,value:y[m++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(){return i=Object.assign?Object.assign.bind():function(y){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var m in b)({}).hasOwnProperty.call(b,m)&&(y[m]=b[m])}return y},i.apply(null,arguments)}function s(y,g){if(y){if(typeof y=="string")return r(y,g);var b={}.toString.call(y).slice(8,-1);return b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set"?Array.from(y):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?r(y,g):void 0}}var o="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(y){var g=y.split("-"),b=g[1],m=g[2],T=g[3];if(!b||!m||!T)throw new Error("Malformed asset _ref '"+y+`'. Expected an id like "`+o+'".');var I=m.split("x"),_=I[0],q=I[1],V=+_,F=+q,D=isFinite(V)&&isFinite(F);if(!D)throw new Error("Malformed asset _ref '"+y+`'. Expected an id like "`+o+'".');return{id:b,width:V,height:F,format:T}}var c=function(g){var b=g;return b?typeof b._ref=="string":!1},u=function(g){var b=g;return b?typeof b._id=="string":!1},p=function(g){var b=g;return b&&b.asset?typeof b.asset.url=="string":!1},f=function(g){if(typeof g=="object"&&g!==null){var b=g;return b._upload&&(!b.asset||!b.asset._ref)}return!1};function d(y){if(!y)return null;var g;if(typeof y=="string"&&l(y))g={asset:{_ref:v(y)}};else if(typeof y=="string")g={asset:{_ref:y}};else if(c(y))g={asset:y};else if(u(y))g={asset:{_ref:y._id||""}};else if(p(y))g={asset:{_ref:v(y.asset.url)}};else if(typeof y.asset=="object")g=i({},y);else return null;var b=y;return b.crop&&(g.crop=b.crop),b.hotspot&&(g.hotspot=b.hotspot),h(g)}function l(y){return/^https?:\/\//.test(""+y)}function v(y){var g=y.split("/").slice(-1);return("image-"+g[0]).replace(/\.([a-z]+)$/,"-$1")}function h(y){if(y.crop&&y.hotspot)return y;var g=i({},y);return g.crop||(g.crop={left:0,top:0,bottom:0,right:0}),g.hotspot||(g.hotspot={x:.5,y:.5,height:1,width:1}),g}var w=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function E(y){var g=i({},y||{}),b=g.source;delete g.source;var m=d(b);if(!m){if(b&&f(b))return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8HwQACfsD/QNViZkAAAAASUVORK5CYII=";throw new Error("Unable to resolve image URL from source ("+JSON.stringify(b)+")")}var T=m.asset._ref||m.asset._id||"",I=a(T),_=Math.round(m.crop.left*I.width),q=Math.round(m.crop.top*I.height),V={left:_,top:q,width:Math.round(I.width-m.crop.right*I.width-_),height:Math.round(I.height-m.crop.bottom*I.height-q)},F=m.hotspot.height*I.height/2,D=m.hotspot.width*I.width/2,se=m.hotspot.x*I.width,K=m.hotspot.y*I.height,N={left:se-D,top:K-F,right:se+D,bottom:K+F};return g.rect||g.focalPoint||g.ignoreImageParams||g.crop||(g=i({},g,C({crop:V,hotspot:N},g))),x(i({},g,{asset:I}))}function x(y){var g=(y.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),b=y.vanityName?"/"+y.vanityName:"",m=y.asset.id+"-"+y.asset.width+"x"+y.asset.height+"."+y.asset.format+b,T=g+"/images/"+y.projectId+"/"+y.dataset+"/"+m,I=[];if(y.rect){var _=y.rect,q=_.left,V=_.top,F=_.width,D=_.height,se=q!==0||V!==0||D!==y.asset.height||F!==y.asset.width;se&&I.push("rect="+q+","+V+","+F+","+D)}y.bg&&I.push("bg="+y.bg),y.focalPoint&&(I.push("fp-x="+y.focalPoint.x),I.push("fp-y="+y.focalPoint.y));var K=[y.flipHorizontal&&"h",y.flipVertical&&"v"].filter(Boolean).join("");return K&&I.push("flip="+K),w.forEach(function(N){var me=N[0],W=N[1];typeof y[me]<"u"?I.push(W+"="+encodeURIComponent(y[me])):typeof y[W]<"u"&&I.push(W+"="+encodeURIComponent(y[W]))}),I.length===0?T:T+"?"+I.join("&")}function C(y,g){var b,m=g.width,T=g.height;if(!(m&&T))return{width:m,height:T,rect:y.crop};var I=y.crop,_=y.hotspot,q=m/T,V=I.width/I.height;if(V>q){var F=Math.round(I.height),D=Math.round(F*q),se=Math.max(0,Math.round(I.top)),K=Math.round((_.right-_.left)/2+_.left),N=Math.max(0,Math.round(K-D/2));N<I.left?N=I.left:N+D>I.left+I.width&&(N=I.left+I.width-D),b={left:N,top:se,width:D,height:F}}else{var me=I.width,W=Math.round(me/q),qn=Math.max(0,Math.round(I.left)),Ln=Math.round((_.bottom-_.top)/2+_.top),ve=Math.max(0,Math.round(Ln-W/2));ve<I.top?ve=I.top:ve+W>I.top+I.height&&(ve=I.top+I.height-W),b={left:qn,top:ve,width:me,height:W}}return{width:m,height:T,rect:b}}var O=["clip","crop","fill","fillmax","max","scale","min"],P=["top","bottom","left","right","center","focalpoint","entropy"],L=["format"];function Ye(y){return y&&"config"in y?typeof y.config=="function":!1}function Je(y){return y&&"clientConfig"in y?typeof y.clientConfig=="object":!1}function ye(y){for(var g=w,b=n(g),m;!(m=b()).done;){var T=m.value,I=T[0],_=T[1];if(y===I||y===_)return I}return y}function Mn(y){if(Ye(y)){var g=y.config(),b=g.apiHost,m=g.projectId,T=g.dataset,I=b||"https://api.sanity.io";return new Xe(null,{baseUrl:I.replace(/^https:\/\/api\./,"https://cdn."),projectId:m,dataset:T})}if(Je(y)){var _=y.clientConfig,q=_.apiHost,V=_.projectId,F=_.dataset,D=q||"https://api.sanity.io";return new Xe(null,{baseUrl:D.replace(/^https:\/\/api\./,"https://cdn."),projectId:V,dataset:F})}return new Xe(null,y||{})}var Xe=(function(){function y(b,m){this.options=void 0,this.options=b?i({},b.options||{},m||{}):i({},m||{})}var g=y.prototype;return g.withOptions=function(m){var T=m.baseUrl||this.options.baseUrl,I={baseUrl:T};for(var _ in m)if(m.hasOwnProperty(_)){var q=ye(_);I[q]=m[_]}return new y(this,i({baseUrl:T},I))},g.image=function(m){return this.withOptions({source:m})},g.dataset=function(m){return this.withOptions({dataset:m})},g.projectId=function(m){return this.withOptions({projectId:m})},g.bg=function(m){return this.withOptions({bg:m})},g.dpr=function(m){return this.withOptions(m&&m!==1?{dpr:m}:{})},g.width=function(m){return this.withOptions({width:m})},g.height=function(m){return this.withOptions({height:m})},g.focalPoint=function(m,T){return this.withOptions({focalPoint:{x:m,y:T}})},g.maxWidth=function(m){return this.withOptions({maxWidth:m})},g.minWidth=function(m){return this.withOptions({minWidth:m})},g.maxHeight=function(m){return this.withOptions({maxHeight:m})},g.minHeight=function(m){return this.withOptions({minHeight:m})},g.size=function(m,T){return this.withOptions({width:m,height:T})},g.blur=function(m){return this.withOptions({blur:m})},g.sharpen=function(m){return this.withOptions({sharpen:m})},g.rect=function(m,T,I,_){return this.withOptions({rect:{left:m,top:T,width:I,height:_}})},g.format=function(m){return this.withOptions({format:m})},g.invert=function(m){return this.withOptions({invert:m})},g.orientation=function(m){return this.withOptions({orientation:m})},g.quality=function(m){return this.withOptions({quality:m})},g.forceDownload=function(m){return this.withOptions({download:m})},g.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},g.flipVertical=function(){return this.withOptions({flipVertical:!0})},g.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},g.fit=function(m){if(O.indexOf(m)===-1)throw new Error('Invalid fit mode "'+m+'"');return this.withOptions({fit:m})},g.crop=function(m){if(P.indexOf(m)===-1)throw new Error('Invalid crop mode "'+m+'"');return this.withOptions({crop:m})},g.saturation=function(m){return this.withOptions({saturation:m})},g.auto=function(m){if(L.indexOf(m)===-1)throw new Error('Invalid auto mode "'+m+'"');return this.withOptions({auto:m})},g.pad=function(m){return this.withOptions({pad:m})},g.vanityName=function(m){return this.withOptions({vanityName:m})},g.frame=function(m){if(m!==1)throw new Error('Invalid frame value "'+m+'"');return this.withOptions({frame:m})},g.url=function(){return E(this.options)},g.toString=function(){return this.url()},y})();return Mn}))})($e)),$e.exports}var mi=yi();const vi=Dn(mi),gi="modulepreload",bi=function(t){return"/"+t},$t={},hr=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(p=>Promise.resolve(p).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=o(r.map(u=>{if(u=bi(u),u in $t)return;$t[u]=!0;const p=u.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":gi,p||(d.as="script"),d.crossOrigin="",d.href=u,c&&d.setAttribute("nonce",c),document.head.appendChild(d),p)return new Promise((l,v)=>{d.addEventListener("load",l),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},dr=!(typeof navigator>"u")&&navigator.product==="ReactNative",pr={timeout:dr?6e4:12e4},wi=function(t){const e={...pr,...typeof t=="string"?{url:t}:t};if(e.timeout=yr(e.timeout),e.query){const{url:r,searchParams:n}=(function(i){const s=i.indexOf("?");if(s===-1)return{url:i,searchParams:new URLSearchParams};const o=i.slice(0,s),a=i.slice(s+1);if(!dr)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const c=new URLSearchParams;for(const u of a.split("&")){const[p,f]=u.split("=");p&&c.append(jt(p),jt(f||""))}return{url:o,searchParams:c}})(e.url);for(const[i,s]of Object.entries(e.query)){if(s!==void 0)if(Array.isArray(s))for(const a of s)n.append(i,a);else n.append(i,s);const o=n.toString();o&&(e.url=`${r}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function jt(t){return decodeURIComponent(t.replace(/\+/g," "))}function yr(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?yr(pr.timeout):{connect:e,socket:e}}const Ei=/^https?:\/\//i,Ii=function(t){if(!Ei.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const xi=["request","response","progress","error","abort"],Rt=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function vr(t,e){const r=[],n=Rt.reduce((s,o)=>(s[o]=s[o]||[],s),{processOptions:[wi],validateOptions:[Ii]});function i(s){const o=xi.reduce((l,v)=>(l[v]=(function(){const h=Object.create(null);let w=0;return{publish:function(E){for(const x in h)h[x](E)},subscribe:function(E){const x=w++;return h[x]=E,function(){delete h[x]}}}})(),l),{}),a=(l=>function(v,h,...w){const E=v==="onError";let x=h;for(let C=0;C<l[v].length&&(x=(0,l[v][C])(x,...w),!E||x);C++);return x})(n),c=a("processOptions",s);a("validateOptions",c);const u={options:c,channels:o,applyMiddleware:a};let p;const f=o.request.subscribe(l=>{p=e(l,(v,h)=>((w,E,x)=>{let C=w,O=E;if(!C)try{O=a("onResponse",E,x)}catch(P){O=null,C=P}C=C&&a("onError",C,x),C?o.error.publish(C):O&&o.response.publish(O)})(v,h,l))});o.abort.subscribe(()=>{f(),p&&p.abort()});const d=a("onReturn",o,u);return d===o&&o.request.publish(u),d}return i.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Rt.forEach(o=>{s[o]&&n[o].push(s[o])}),r.push(s),i},i.clone=()=>vr(r,e),t.forEach(i.use),i}var Pt,Mt,Ci=mr((function(){if(Mt)return Pt;Mt=1;var t=function(r){return r.replace(/^\s+|\s+$/g,"")},e=function(r){return Object.prototype.toString.call(r)==="[object Array]"};return Pt=function(r){if(!r)return{};for(var n=Object.create(null),i=t(r).split(`
`),s=0;s<i.length;s++){var o=i[s],a=o.indexOf(":"),c=t(o.slice(0,a)).toLowerCase(),u=t(o.slice(a+1));typeof n[c]>"u"?n[c]=u:e(n[c])?n[c].push(u):n[c]=[n[c],u]}return n}})());let ut=class{onabort;onerror;onreadystatechange;ontimeout;readyState=0;response;responseText="";responseType="";status;statusText;withCredentials;#t;#e;#n;#i={};#r;#s={};#o;open(e,r,n){this.#t=e,this.#e=r,this.#n="",this.readyState=1,this.onreadystatechange?.(),this.#r=void 0}abort(){this.#r&&this.#r.abort()}getAllResponseHeaders(){return this.#n}setRequestHeader(e,r){this.#i[e]=r}setInit(e,r=!0){this.#s=e,this.#o=r}send(e){const r=this.responseType!=="arraybuffer",n={...this.#s,method:this.#t,headers:this.#i,body:e};typeof AbortController=="function"&&this.#o&&(this.#r=new AbortController,typeof EventTarget<"u"&&this.#r.signal instanceof EventTarget&&(n.signal=this.#r.signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(this.#e,n).then(i=>(i.headers.forEach((s,o)=>{this.#n+=`${o}: ${s}\r
`}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,this.onreadystatechange?.(),r?i.text():i.arrayBuffer())).then(i=>{typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,this.onreadystatechange?.()}).catch(i=>{i.name!=="AbortError"?this.onerror?.(i):this.onabort?.()})}};const ct=typeof XMLHttpRequest=="function"?"xhr":"fetch",Ai=ct==="xhr"?XMLHttpRequest:ut,Si=(t,e)=>{const r=t.options,n=t.applyMiddleware("finalizeOptions",r),i={},s=t.applyMiddleware("interceptRequest",void 0,{adapter:ct,context:t});if(s){const h=setTimeout(e,0,null,s);return{abort:()=>clearTimeout(h)}}let o=new Ai;o instanceof ut&&typeof n.fetch=="object"&&o.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,c=n.timeout;let u=!1,p=!1,f=!1;if(o.onerror=h=>{v(o instanceof ut?h instanceof Error?h:new Error(`Request error while attempting to reach is ${n.url}`,{cause:h}):new Error(`Request error while attempting to reach is ${n.url}${h.lengthComputable?`(${h.loaded} of ${h.total} bytes transferred)`:""}`))},o.ontimeout=h=>{v(new Error(`Request timeout while attempting to reach ${n.url}${h.lengthComputable?`(${h.loaded} of ${h.total} bytes transferred)`:""}`))},o.onabort=()=>{l(!0),u=!0},o.onreadystatechange=function(){c&&(l(),i.socket=setTimeout(()=>d("ESOCKETTIMEDOUT"),c.socket)),!u&&o&&o.readyState===4&&o.status!==0&&(function(){if(!(u||p||f)){if(o.status===0)return void v(new Error("Unknown XHR error"));l(),p=!0,e(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:n.url,method:n.method,headers:Ci(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}})()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader)for(const h in a)a.hasOwnProperty(h)&&o.setRequestHeader(h,a[h]);return n.rawBody&&(o.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter:ct,request:o,context:t}),o.send(n.body||null),c&&(i.connect=setTimeout(()=>d("ETIMEDOUT"),c.connect)),{abort:function(){u=!0,o&&o.abort()}};function d(h){f=!0,o.abort();const w=new Error(h==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);w.code=h,t.channels.error.publish(w)}function l(h){(h||u||o&&o.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function v(h){if(p)return;l(!0),p=!0,o=null;const w=h||new Error(`Network error while attempting to reach ${n.url}`);w.isNetworkError=!0,w.request=n,e(w)}},_i=(t=[],e=Si)=>vr(t,e);var Oi={},qt,Lt,Dt,Ft,Ut,Ze={exports:{}};Ut||(Ut=1,(function(t,e){e.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;n.splice(1,0,i,"color: inherit");let s=0,o=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(s++,a==="%c"&&(o=s))}),n.splice(o,0,i)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function(){let n;try{n=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=Oi.DEBUG),n},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=(function(){try{return localStorage}catch{}})(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(Ft?Dt:(Ft=1,Dt=function(n){function i(a){let c,u,p,f=null;function d(...l){if(!d.enabled)return;const v=d,h=Number(new Date),w=h-(c||h);v.diff=w,v.prev=c,v.curr=h,c=h,l[0]=i.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");let E=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,(x,C)=>{if(x==="%%")return"%";E++;const O=i.formatters[C];if(typeof O=="function"){const P=l[E];x=O.call(v,P),l.splice(E,1),E--}return x}),i.formatArgs.call(v,l),(v.log||i.log).apply(v,l)}return d.namespace=a,d.useColors=i.useColors(),d.color=i.selectColor(a),d.extend=s,d.destroy=i.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(u!==i.namespaces&&(u=i.namespaces,p=i.enabled(a)),p),set:l=>{f=l}}),typeof i.init=="function"&&i.init(d),d}function s(a,c){const u=i(this.namespace+(typeof c>"u"?":":c)+a);return u.log=this.log,u}function o(a,c){let u=0,p=0,f=-1,d=0;for(;u<a.length;)if(p<c.length&&(c[p]===a[u]||c[p]==="*"))c[p]==="*"?(f=p,d=u,p++):(u++,p++);else{if(f===-1)return!1;p=f+1,d++,u=d}for(;p<c.length&&c[p]==="*";)p++;return p===c.length}return i.debug=i,i.default=i,i.coerce=function(a){return a instanceof Error?a.stack||a.message:a},i.disable=function(){const a=[...i.names,...i.skips.map(c=>"-"+c)].join(",");return i.enable(""),a},i.enable=function(a){i.save(a),i.namespaces=a,i.names=[],i.skips=[];const c=(typeof a=="string"?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const u of c)u[0]==="-"?i.skips.push(u.slice(1)):i.names.push(u)},i.enabled=function(a){for(const c of i.skips)if(o(a,c))return!1;for(const c of i.names)if(o(a,c))return!0;return!1},i.humanize=(function(){if(Lt)return qt;Lt=1;var a=1e3,c=60*a,u=60*c,p=24*u,f=7*p;function d(l,v,h,w){var E=v>=1.5*h;return Math.round(l/h)+" "+w+(E?"s":"")}return qt=function(l,v){v=v||{};var h,w,E=typeof l;if(E==="string"&&l.length>0)return(function(x){if(!((x=String(x)).length>100)){var C=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(x);if(C){var O=parseFloat(C[1]);switch((C[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*O;case"weeks":case"week":case"w":return O*f;case"days":case"day":case"d":return O*p;case"hours":case"hour":case"hrs":case"hr":case"h":return O*u;case"minutes":case"minute":case"mins":case"min":case"m":return O*c;case"seconds":case"second":case"secs":case"sec":case"s":return O*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}}})(l);if(E==="number"&&isFinite(l))return v.long?(h=l,(w=Math.abs(h))>=p?d(h,w,p,"day"):w>=u?d(h,w,u,"hour"):w>=c?d(h,w,c,"minute"):w>=a?d(h,w,a,"second"):h+" ms"):(function(x){var C=Math.abs(x);return C>=p?Math.round(x/p)+"d":C>=u?Math.round(x/u)+"h":C>=c?Math.round(x/c)+"m":C>=a?Math.round(x/a)+"s":x+"ms"})(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))}})(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(a=>{i[a]=n[a]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(a){let c=0;for(let u=0;u<a.length;u++)c=(c<<5)-c+a.charCodeAt(u),c|=0;return i.colors[Math.abs(c)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:r}=t.exports;r.j=function(n){try{return JSON.stringify(n)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})(Ze,Ze.exports)),Ze.exports;const Ti=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function Vt(t){return Object.prototype.toString.call(t)==="[object Object]"}function ki(t){if(Vt(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(Vt(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)}const $i=["boolean","string","number"];function ji(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||Ti(e)||$i.indexOf(typeof e)===-1&&!Array.isArray(e)&&!ki(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function Ri(t){return{onResponse:r=>{const n=r.headers["content-type"]||"",i=t&&t.force||n.indexOf("application/json")!==-1;return r.body&&n&&i?Object.assign({},r,{body:e(r.body)}):r},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let we={};typeof globalThis<"u"?we=globalThis:typeof window<"u"?we=window:typeof global<"u"?we=global:typeof self<"u"&&(we=self);var Pi=we;function Mi(t={}){const e=t.implementation||Pi.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e(i=>(r.error.subscribe(s=>i.error(s)),r.progress.subscribe(s=>i.next(Object.assign({type:"progress"},s))),r.response.subscribe(s=>{i.next(Object.assign({type:"response"},s)),i.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function qi(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,r=t.context;function n(i){return s=>{const o=s.lengthComputable?s.loaded/s.total*100:-1;r.channels.progress.publish({stage:i,percent:o,total:s.total,loaded:s.loaded,lengthComputable:s.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}}}var gr=(t,e,r)=>(r.method==="GET"||r.method==="HEAD")&&(t.isNetworkError||!1);function Li(t){return 100*Math.pow(2,t)+100*Math.random()}const ft=(t={})=>(e=>{const r=e.maxRetries||5,n=e.retryDelay||Li,i=e.shouldRetry;return{onError:(s,o)=>{const a=o.options,c=a.maxRetries||r,u=a.retryDelay||n,p=a.shouldRetry||i,f=a.attemptNumber||0;if((d=a.body)!==null&&typeof d=="object"&&typeof d.pipe=="function"||!p(s,f,a)||f>=c)return s;var d;const l=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:f+1})});return setTimeout(()=>o.channels.request.publish(l),u(f)),null}}})({shouldRetry:gr,...t});ft.shouldRetry=gr;var lt=function(t,e){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lt(t,e)};function Q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Di(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(f){o(f)}}function c(p){try{u(n.throw(p))}catch(f){o(f)}}function u(p){p.done?s(p.value):i(p.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function br(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(p){return c([u,p])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(p){u=[6,p],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ce(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function G(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function oe(t){return this instanceof oe?(this.v=t,this):new oe(t)}function Fi(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(l){return function(v){return Promise.resolve(v).then(l,f)}}function a(l,v){n[l]&&(i[l]=function(h){return new Promise(function(w,E){s.push([l,h,w,E])>1||c(l,h)})},v&&(i[l]=v(i[l])))}function c(l,v){try{u(n[l](v))}catch(h){d(s[0][3],h)}}function u(l){l.value instanceof oe?Promise.resolve(l.value.v).then(p,f):d(s[0][2],l)}function p(l){c("next",l)}function f(l){c("throw",l)}function d(l,v){l(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Ui(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ce=="function"?ce(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function k(t){return typeof t=="function"}function ht(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var et=ht(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Pe(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Ce=(function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=ce(o),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var p=this.initialTeardown;if(k(p))try{p()}catch(h){s=h instanceof et?h.errors:[h]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=ce(f),l=d.next();!l.done;l=d.next()){var v=l.value;try{Nt(v)}catch(h){s=s??[],h instanceof et?s=G(G([],z(s)),z(h.errors)):s.push(h)}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}if(s)throw new et(s)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Nt(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Pe(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&Pe(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=(function(){var e=new t;return e.closed=!0,e})(),t})(),wr=Ce.EMPTY;function Er(t){return t instanceof Ce||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function Nt(t){k(t)?t():t.unsubscribe()}var Vi={Promise:void 0},Ni={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,G([t,e],z(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function Ir(t){Ni.setTimeout(function(){throw t})}function Bt(){}function je(t){t()}var dt=(function(t){Q(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Er(r)&&r.add(n)):n.destination=Wi,n}return e.create=function(r,n,i){return new le(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(Ce),Bi=(function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){ke(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){ke(n)}else ke(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){ke(r)}},t})(),le=(function(t){Q(e,t);function e(r,n,i){var s=t.call(this)||this,o;return k(r)||!r?o={next:r??void 0,error:n??void 0,complete:i??void 0}:o=r,s.destination=new Bi(o),s}return e})(dt);function ke(t){Ir(t)}function Hi(t){throw t}var Wi={closed:!0,next:Bt,error:Hi,complete:Bt},pt=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function Ne(t){return t}function zi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xr(t)}function xr(t){return t.length===0?Ne:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var j=(function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,s=Qi(e)?e:new le(e,r,n);return je(function(){var o=i,a=o.operator,c=o.source;s.add(a?a.call(s,c):c?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Ht(r),new r(function(i,s){var o=new le({next:function(a){try{e(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[pt]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return xr(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Ht(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t})();function Ht(t){var e;return(e=t??Vi.Promise)!==null&&e!==void 0?e:Promise}function Gi(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}function Qi(t){return t&&t instanceof dt||Gi(t)&&Er(t)}function Yi(t){return k(t?.lift)}function B(t){return function(e){if(Yi(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function J(t,e,r,n,i){return new Ji(t,e,r,n,i)}var Ji=(function(t){Q(e,t);function e(r,n,i,s,o,a){var c=t.call(this,r)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=n?function(u){try{n(u)}catch(p){r.error(p)}}:t.prototype._next,c._error=s?function(u){try{s(u)}catch(p){r.error(p)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=i?function(){try{i()}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e})(dt),Xi=ht(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),yt=(function(t){Q(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new Wt(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Xi},e.prototype.next=function(r){var n=this;je(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=ce(n.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(r)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;je(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;je(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?wr:(this.currentObservers=null,a.push(r),new Ce(function(){n.currentObservers=null,Pe(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},e.prototype.asObservable=function(){var r=new j;return r.source=this,r},e.create=function(r,n){return new Wt(r,n)},e})(j),Wt=(function(t){Q(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:wr},e})(yt),mt={now:function(){return(mt.delegate||Date).now()},delegate:void 0},Ki=(function(t){Q(e,t);function e(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=mt);var s=t.call(this)||this;return s._bufferSize=r,s._windowTime=n,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=n===1/0,s._bufferSize=Math.max(1,r),s._windowTime=Math.max(1,n),s}return e.prototype.next=function(r){var n=this,i=n.isStopped,s=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;i||(s.push(r),!o&&s.push(a.now()+c)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),c=0;c<a.length&&!r.closed;c+=s?1:2)r.next(a[c]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,s=r._buffer,o=r._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var c=i.now(),u=0,p=1;p<s.length&&s[p]<=c;p+=2)u=p;u&&s.splice(0,u+1)}},e})(yt),Zi=(function(t){Q(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e})(Ce),zt={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,G([t,e],z(r)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},es=(function(t){Q(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),zt.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&zt.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s;try{this.work(r)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Pe(s,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e})(Zi),Gt=(function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=mt.now,t})(),ts=(function(t){Q(e,t);function e(r,n){n===void 0&&(n=Gt.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e})(Gt),rs=new ts(es),ns=rs,is=new j(function(t){return t.complete()});function ss(t){return t&&k(t.schedule)}function vt(t){return t[t.length-1]}function os(t){return k(vt(t))?t.pop():void 0}function gt(t){return ss(vt(t))?t.pop():void 0}function as(t,e){return typeof vt(t)=="number"?t.pop():e}var Cr=(function(t){return t&&typeof t.length=="number"&&typeof t!="function"});function Ar(t){return k(t?.then)}function Sr(t){return k(t[pt])}function _r(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function Or(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function us(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tr=us();function kr(t){return k(t?.[Tr])}function $r(t){return Fi(this,arguments,function(){var r,n,i,s;return br(this,function(o){switch(o.label){case 0:r=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,oe(r.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,oe(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,oe(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function jr(t){return k(t?.getReader)}function H(t){if(t instanceof j)return t;if(t!=null){if(Sr(t))return cs(t);if(Cr(t))return ls(t);if(Ar(t))return fs(t);if(_r(t))return Rr(t);if(kr(t))return hs(t);if(jr(t))return ds(t)}throw Or(t)}function cs(t){return new j(function(e){var r=t[pt]();if(k(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ls(t){return new j(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function fs(t){return new j(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Ir)})}function hs(t){return new j(function(e){var r,n;try{for(var i=ce(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function Rr(t){return new j(function(e){ps(t,e).catch(function(r){return e.error(r)})})}function ds(t){return Rr($r(t))}function ps(t,e){var r,n,i,s;return Di(this,void 0,void 0,function(){var o,a;return br(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=Ui(t),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ee(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s}function Pr(t,e){return e===void 0&&(e=0),B(function(r,n){r.subscribe(J(n,function(i){return ee(n,t,function(){return n.next(i)},e)},function(){return ee(n,t,function(){return n.complete()},e)},function(i){return ee(n,t,function(){return n.error(i)},e)}))})}function Mr(t,e){return e===void 0&&(e=0),B(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function ys(t,e){return H(t).pipe(Mr(e),Pr(e))}function ms(t,e){return H(t).pipe(Mr(e),Pr(e))}function vs(t,e){return new j(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function gs(t,e){return new j(function(r){var n;return ee(r,e,function(){n=t[Tr](),ee(r,e,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){r.error(a);return}o?r.complete():r.next(s)},0,!0)}),function(){return k(n?.return)&&n.return()}})}function qr(t,e){if(!t)throw new Error("Iterable cannot be null");return new j(function(r){ee(r,e,function(){var n=t[Symbol.asyncIterator]();ee(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function bs(t,e){return qr($r(t),e)}function ws(t,e){if(t!=null){if(Sr(t))return ys(t,e);if(Cr(t))return vs(t,e);if(Ar(t))return ms(t,e);if(_r(t))return qr(t,e);if(kr(t))return gs(t,e);if(jr(t))return bs(t,e)}throw Or(t)}function Ae(t,e){return e?ws(t,e):H(t)}function ae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=gt(t);return Ae(t,r)}function Lr(t,e){var r=k(t)?t:function(){return t},n=function(i){return i.error(r())};return new j(n)}function Es(t){return!!t&&(t instanceof j||k(t.lift)&&k(t.subscribe))}var Dr=ht(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function A(t,e){return new Promise(function(r,n){var i=!1,s;t.subscribe({next:function(o){s=o,i=!0},error:n,complete:function(){i?r(s):n(new Dr)}})})}function tt(t,e){return new Promise(function(r,n){var i=new le({next:function(s){r(s),i.unsubscribe()},error:n,complete:function(){n(new Dr)}});t.subscribe(i)})}function Is(t){return t instanceof Date&&!isNaN(t)}function M(t,e){return B(function(r,n){var i=0;r.subscribe(J(n,function(s){n.next(t.call(e,s,i++))}))})}var xs=Array.isArray;function Cs(t,e){return xs(e)?t.apply(void 0,G([],z(e))):t(e)}function As(t){return M(function(e){return Cs(t,e)})}function Ss(t,e,r){return r===void 0&&(r=Ne),function(n){Qt(e,function(){for(var i=t.length,s=new Array(i),o=i,a=i,c=function(p){Qt(e,function(){var f=Ae(t[p],e),d=!1;f.subscribe(J(n,function(l){s[p]=l,d||(d=!0,a--),a||n.next(r(s.slice()))},function(){--o||n.complete()}))},n)},u=0;u<i;u++)c(u)})}}function Qt(t,e,r){e()}function _s(t,e,r,n,i,s,o,a){var c=[],u=0,p=0,f=!1,d=function(){f&&!c.length&&!u&&e.complete()},l=function(h){return u<n?v(h):c.push(h)},v=function(h){u++;var w=!1;H(r(h,p++)).subscribe(J(e,function(E){e.next(E)},function(){w=!0},void 0,function(){if(w)try{u--;for(var E=function(){var x=c.shift();o||v(x)};c.length&&u<n;)E();d()}catch(x){e.error(x)}}))};return t.subscribe(J(e,l,function(){f=!0,d()})),function(){}}function te(t,e,r){return r===void 0&&(r=1/0),k(e)?te(function(n,i){return M(function(s,o){return e(n,s,i,o)})(H(t(n,i)))},r):(typeof e=="number"&&(r=e),B(function(n,i){return _s(n,i,t,r)}))}function Fr(t){return t===void 0&&(t=1/0),te(Ne,t)}function Os(){return Fr(1)}function Ts(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Os()(Ae(t,gt(t)))}function Ur(t){return new j(function(e){H(t()).subscribe(e)})}function ks(t,e,r){return r===void 0&&(r=ns),new j(function(n){var i=Is(t)?+t-r.now():t;i<0&&(i=0);var s=0;return r.schedule(function(){n.closed||(n.next(s++),n.complete())},i)})}function $s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=gt(t),n=as(t,1/0),i=t;return i.length?i.length===1?H(i[0]):Fr(n)(Ae(i,r)):is}var js=Array.isArray;function Rs(t){return t.length===1&&js(t[0])?t[0]:t}function pe(t,e){return B(function(r,n){var i=0;r.subscribe(J(n,function(s){return t.call(e,s,i++)&&n.next(s)}))})}function Me(t){return B(function(e,r){var n=null,i=!1,s;n=e.subscribe(J(r,void 0,void 0,function(o){s=H(t(o,Me(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(r))})}function Vr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=os(t);return r?zi(Vr.apply(void 0,G([],z(t))),As(r)):B(function(n,i){Ss(G([n],z(Rs(t))))(i)})}function Ps(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vr.apply(void 0,G([],z(t)))}function Nr(t){return B(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}function Br(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new yt}:e,n=t.resetOnError,i=n===void 0?!0:n,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var p,f,d,l=0,v=!1,h=!1,w=function(){f?.unsubscribe(),f=void 0},E=function(){w(),p=d=void 0,v=h=!1},x=function(){var C=p;E(),C?.unsubscribe()};return B(function(C,O){l++,!h&&!v&&w();var P=d=d??r();O.add(function(){l--,l===0&&!h&&!v&&(f=rt(x,c))}),P.subscribe(O),!p&&l>0&&(p=new le({next:function(L){return P.next(L)},error:function(L){h=!0,w(),f=rt(E,i,L),P.error(L)},complete:function(){v=!0,w(),f=rt(E,o),P.complete()}}),H(C).subscribe(p))})(u)}}function rt(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(e===!0){t();return}if(e!==!1){var i=new le({next:function(){i.unsubscribe(),t()}});return H(e.apply(void 0,G([],z(r)))).subscribe(i)}}function Ms(t,e,r){var n,i=!1;return n=t,Br({connector:function(){return new Ki(n,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function qs(t,e,r){var n=k(t)||e||r?{next:t,error:e,complete:r}:t;return n?B(function(i,s){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;i.subscribe(J(s,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),s.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),s.complete()},function(c){var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),s.error(c)},function(){var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Ne}function Hr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var Wr={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},bt={0:8203,1:8204,2:8205,3:65279},Ls=new Array(4).fill(String.fromCodePoint(bt[0])).join("");function Ds(t){let e=JSON.stringify(t);return`${Ls}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(bt[i])).join("")}).join("")}`}function Fs(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function Us(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function Da(t,e,r="auto"){return r===!0||r==="auto"&&(Fs(t)||Us(t))?t:`${t}${Ds(e)}`}Object.fromEntries(Object.entries(bt).map(t=>t.reverse()));Object.fromEntries(Object.entries(Wr).map(t=>t.reverse()));var Vs=`${Object.values(Wr).map(t=>`\\u{${t.toString(16)}}`).join("")}`,Yt=new RegExp(`[${Vs}]{4,}`,"gu");function Ns(t){var e;return{cleaned:t.replace(Yt,""),encoded:((e=t.match(Yt))==null?void 0:e[0])||""}}function Bs(t){return t&&JSON.parse(Ns(JSON.stringify(t)).cleaned)}function Hs(t){return Bs(t)}const Ws="drafts",zs="versions",fe=".",qe=`${Ws}${fe}`,zr=`${zs}${fe}`;function Be(t){return t.startsWith(qe)}function He(t){return t.startsWith(zr)}function Gr(t){if(He(t)){const e=We(t);return qe+e}return Be(t)?t:qe+t}function Se(t,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${zr}${e}${fe}${We(t)}`}function Qr(t){if(!He(t))return;const[e,r,...n]=t.split(fe);return r}function We(t){return He(t)?t.split(fe).slice(2).join(fe):Be(t)?t.slice(qe.length):t}let Gs=t=>crypto.getRandomValues(new Uint8Array(t)),Qs=(t,e,r)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*e/t.length);return(s=e)=>{let o="";for(;;){let a=r(i),c=i|0;for(;c--;)if(o+=t[a[c]&n]||"",o.length===s)return o}}},Ys=(t,e=21)=>Qs(t,e,Gs);const Jt=/\r\n|[\n\r\u2028\u2029]/;function Js(t,e,r){const n=t.split(Jt),i={start:Xt(e.start,n),end:e.end?Xt(e.end,n):void 0},{start:s,end:o,markerLines:a}=Xs(i,n),c=`${o}`.length;return t.split(Jt,o).slice(s,o).map((u,p)=>{const f=s+1+p,d=` ${` ${f}`.slice(-c)} |`,l=a[f],v=!a[f+1];if(!l)return` ${d}${u.length>0?` ${u}`:""}`;let h="";if(Array.isArray(l)){const w=u.slice(0,Math.max(l[0]-1,0)).replace(/[^\t]/g," "),E=l[1]||1;h=[`
 `,d.replace(/\d/g," ")," ",w,"^".repeat(E)].join(""),v&&r&&(h+=" "+r)}return[">",d,u.length>0?` ${u}`:"",h].join("")}).join(`
`)}function Xs(t,e){const r={...t.start},n={...r,...t.end},i=2,s=3,o=r.line??-1,a=r.column??0,c=n.line,u=n.column;let p=Math.max(o-(i+1),0),f=Math.min(e.length,c+s);o===-1&&(p=0),c===-1&&(f=e.length);const d=c-o,l={};if(d)for(let v=0;v<=d;v++){const h=v+o;if(!a)l[h]=!0;else if(v===0){const w=e[h-1].length;l[h]=[a,w-a+1]}else if(v===d)l[h]=[0,u];else{const w=e[h-v].length;l[h]=[0,w]}}else a===u?a?l[o]=[a,0]:l[o]=!0:l[o]=[a,u-a];return{start:p,end:f,markerLines:l}}function Xt(t,e){let r=0;for(let n=0;n<e.length;n++){const i=e[n].length+1;if(r+i>t)return{line:n+1,column:t-r};r+=i}return{line:e.length,column:e[e.length-1]?.length??0}}const nt=5;class Ks extends Error{response;statusCode=400;responseBody;details;constructor(e,r){const n=Yr(e,r);super(n.message),Object.assign(this,n)}}class Zs extends Error{response;statusCode=500;responseBody;details;constructor(e){const r=Yr(e);super(r.message),Object.assign(this,r)}}function Yr(t,e){const r=t.body,n={response:t,statusCode:t.statusCode,responseBody:ro(r,t),message:"",details:void 0};if(!Hr(r))return n.message=it(t,r),n;const i=r.error;if(typeof i=="string"&&typeof r.message=="string")return n.message=`${i} - ${r.message}`,n;if(typeof i!="object"||i===null)return typeof i=="string"?n.message=i:typeof r.message=="string"?n.message=r.message:n.message=it(t,r),n;if(eo(i)||to(i)){const s=i.items||[],o=s.slice(0,nt).map(c=>c.error?.description).filter(Boolean);let a=o.length?`:
- ${o.join(`
- `)}`:"";return s.length>nt&&(a+=`
...and ${s.length-nt} more`),n.message=`${i.description}${a}`,n.details=r.error,n}if(Jr(i)){const s=e?.options?.query?.tag;return n.message=Xr(i,s),n.details=r.error,n}return"description"in i&&typeof i.description=="string"?(n.message=i.description,n.details=i,n):(n.message=it(t,r),n)}function eo(t){return"type"in t&&t.type==="mutationError"&&"description"in t&&typeof t.description=="string"}function to(t){return"type"in t&&t.type==="actionError"&&"description"in t&&typeof t.description=="string"}function Jr(t){return Hr(t)&&t.type==="queryParseError"&&typeof t.query=="string"&&typeof t.start=="number"&&typeof t.end=="number"}function Xr(t,e){const{query:r,start:n,end:i,description:s}=t;if(!r||typeof n>"u")return`GROQ query parse error: ${s}`;const o=e?`

Tag: ${e}`:"";return`GROQ query parse error:
${Js(r,{start:n,end:i},s)}${o}`}function it(t,e){const r=typeof e=="string"?` (${no(e,100)})`:"",n=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${n}${r}`}function ro(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}function no(t,e){return t.length>e?`${t.slice(0,e)}`:t}class io extends Error{projectId;addOriginUrl;constructor({projectId:e}){super("CorsOriginError"),this.name="CorsOriginError",this.projectId=e;const r=new URL(`https://sanity.io/manage/project/${e}/api`);if(typeof location<"u"){const{origin:n}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",n),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}}const so={onResponse:(t,e)=>{if(t.statusCode>=500)throw new Zs(t);if(t.statusCode>=400)throw new Ks(t,e);return t}};function oo(t={}){const e={},r=n=>t.ignoreWarnings===void 0?!1:(Array.isArray(t.ignoreWarnings)?t.ignoreWarnings:[t.ignoreWarnings]).some(i=>typeof i=="string"?n.includes(i):i instanceof RegExp?i.test(n):!1);return{onResponse:n=>{const i=n.headers["x-sanity-warning"],s=Array.isArray(i)?i:[i];for(const o of s)!o||e[o]||r(o)||(e[o]=!0,console.warn(o));return n}}}function Kt(t,e={}){return _i([ft({shouldRetry:ao}),...t,oo(e),ji(),Ri(),qi(),so,Mi({implementation:j})])}function ao(t,e,r){if(r.maxRetries===0)return!1;const n=r.method==="GET"||r.method==="HEAD",i=(r.uri||r.url).startsWith("/data/query"),s=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(n||i)&&s?!0:ft.shouldRetry(t,e,r)}const uo="https://www.sanity.io/help/";function wt(t){return uo+t}const Zt=["image","file"],er=["before","after","replace"],Kr=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},co=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},lo=t=>{if(Zt.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${Zt.join(", ")}`)},Ee=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},Le=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},he=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);Le(t,e._id)},fo=(t,e)=>{if(typeof e!="string")throw new Error(`\`${t}()\`: \`${e}\` is not a valid document type`)},Zr=(t,e)=>{if(!e._type)throw new Error(`\`${t}()\` requires that the document contains a type (\`_type\` property)`);fo(t,e._type)},ho=(t,e)=>{if(e._id&&e._id!==t)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${t}\`)`)},po=(t,e,r)=>{const n="insert(at, selector, items)";if(er.indexOf(t)===-1){const i=er.map(s=>`"${s}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)},ne=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},en=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},tn=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:r}=t["~experimental_resource"];switch(e){case"dataset":{if(r.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},Z=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function yo(t){let e=!1,r;return(...n)=>(e||(r=t(...n),e=!0),r)}const X=t=>yo((...e)=>console.warn(t.join(" "),...e)),mo=X(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),vo=X(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),go=X(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),bo=X(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),wo=X(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${wt("js-client-browser-token")} for more information and how to hide this warning.`]),Eo=X(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),Io=X(["Using the Sanity client without specifying an API version is deprecated.",`See ${wt("js-client-api-version")}`]),xo=X(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."]),Co="apicdn.sanity.io",Ie={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Ao=["localhost","127.0.0.1","0.0.0.0"],So=t=>Ao.indexOf(t)!==-1;function _o(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function rn(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const nn=(t,e)=>{const r={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Ie.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};r.apiVersion||Io();const n={...Ie,...r},i=n.useProjectHostname&&!n["~experimental_resource"];if(typeof Promise>"u"){const d=wt("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${d}`)}if(i&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(n["~experimental_resource"]&&tn(n),typeof n.perspective<"u"&&rn(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const s=typeof window<"u"&&window.location&&window.location.hostname,o=s&&So(window.location.hostname),a=!!n.token;n.withCredentials&&a&&(Eo(),n.withCredentials=!1),s&&o&&a&&n.ignoreBrowserTokenWarning!==!0?wo():typeof n.useCdn>"u"&&vo(),i&&co(n.projectId),n.dataset&&Kr(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?en(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===Ie.apiHost,n.useCdn===!0&&n.withCredentials&&mo(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,_o(n.apiVersion);const c=n.apiHost.split("://",2),u=c[0],p=c[1],f=n.isDefaultApi?Co:p;return i?(n.url=`${u}://${n.projectId}.${p}/v${n.apiVersion}`,n.cdnUrl=`${u}://${n.projectId}.${f}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};class sn extends Error{name="ConnectionFailedError"}class Oo extends Error{name="DisconnectError";reason;constructor(e,r,n={}){super(e,n),this.reason=r}}class To extends Error{name="ChannelError";data;constructor(e,r){super(e),this.data=r}}class ko extends Error{name="MessageError";data;constructor(e,r,n={}){super(e,n),this.data=r}}class tr extends Error{name="MessageParseError"}const $o=["channelError","disconnect"];function on(t,e){return Ur(()=>{const r=t();return Es(r)?r:ae(r)}).pipe(te(r=>jo(r,e)))}function jo(t,e){return new j(r=>{const n=e.includes("open"),i=e.includes("reconnect");function s(u){if("data"in u){const[p,f]=rr(u);r.error(p?new tr("Unable to parse EventSource error message",{cause:f}):new ko((f?.data).message,f));return}t.readyState===t.CLOSED?r.error(new sn("EventSource connection failed")):i&&r.next({type:"reconnect"})}function o(){r.next({type:"open"})}function a(u){const[p,f]=rr(u);if(p){r.error(new tr("Unable to parse EventSource message",{cause:p}));return}if(u.type==="channelError"){const d=new URL(t.url).searchParams.get("tag");r.error(new To(Ro(f?.data,d),f.data));return}if(u.type==="disconnect"){r.error(new Oo(`Server disconnected client: ${f.data?.reason||"unknown error"}`));return}r.next({type:u.type,id:u.lastEventId,...f.data?{data:f.data}:{}})}t.addEventListener("error",s),n&&t.addEventListener("open",o);const c=[...new Set([...$o,...e])].filter(u=>u!=="error"&&u!=="open"&&u!=="reconnect");return c.forEach(u=>t.addEventListener(u,a)),()=>{t.removeEventListener("error",s),n&&t.removeEventListener("open",o),c.forEach(u=>t.removeEventListener(u,a)),t.close()}})}function rr(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...Po(e)?{}:{data:e}}]}catch(e){return[e,null]}}function Ro(t,e){const r=t.error;return r?Jr(r)?Xr(r,e):r.description?r.description:typeof r=="string"?r:JSON.stringify(r,null,2):t.message||"Unknown listener error"}function Po(t){for(const e in t)return!1;return!0}function an(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class un{selection;operations;constructor(e,r={}){this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Ee("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,n){return po(e,r,n),this._assign("insert",{[e]:r,items:n})}append(e,r){return this.insert("after",`${e}[-1]`,r)}prepend(e,r){return this.insert("before",`${e}[0]`,r)}splice(e,r,n,i){const s=typeof n>"u"||n===-1,o=r<0?r-1:r,a=s?-1:Math.max(0,r+n),c=o<0&&a>=0?"":a,u=`${e}[${o}:${c}]`;return this.insert("replace",u,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...an(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r,n=!0){return Ee(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}}class re extends un{#t;constructor(e,r,n){super(e,r),this.#t=n}clone(){return new re(this.selection,{...this.operations},this.#t)}commit(e){if(!this.#t)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",n=Object.assign({returnFirst:r,returnDocuments:!0},e);return this.#t.mutate({patch:this.serialize()},n)}}class Y extends un{#t;constructor(e,r,n){super(e,r),this.#t=n}clone(){return new Y(this.selection,{...this.operations},this.#t)}commit(e){if(!this.#t)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",n=Object.assign({returnFirst:r,returnDocuments:!0},e);return this.#t.mutate({patch:this.serialize()},n)}}const cn={returnDocuments:!1};class ln{operations;trxId;constructor(e=[],r){this.operations=e,this.trxId=r}create(e){return Ee("create",e),this._add({create:e})}createIfNotExists(e){const r="createIfNotExists";return Ee(r,e),he(r,e),this._add({[r]:e})}createOrReplace(e){const r="createOrReplace";return Ee(r,e),he(r,e),this._add({[r]:e})}delete(e){return Le("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}class ze extends ln{#t;constructor(e,r,n){super(e,n),this.#t=r}clone(){return new ze([...this.operations],this.#t,this.trxId)}commit(e){if(!this.#t)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#t.mutate(this.serialize(),Object.assign({transactionId:this.trxId},cn,e||{}))}patch(e,r){const n=typeof r=="function",i=typeof e!="string"&&e instanceof Y,s=typeof e=="object"&&("query"in e||"id"in e);if(i)return this._add({patch:e.serialize()});if(n){const o=r(new Y(e,{},this.#t));if(!(o instanceof Y))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}if(s){const o=new Y(e,r||{},this.#t);return this._add({patch:o.serialize()})}return this._add({patch:{id:e,...r}})}}class Ge extends ln{#t;constructor(e,r,n){super(e,n),this.#t=r}clone(){return new Ge([...this.operations],this.#t,this.trxId)}commit(e){if(!this.#t)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#t.mutate(this.serialize(),Object.assign({transactionId:this.trxId},cn,e||{}))}patch(e,r){const n=typeof r=="function";if(typeof e!="string"&&e instanceof re)return this._add({patch:e.serialize()});if(n){const i=r(new re(e,{},this.#t));if(!(i instanceof re))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:e,...r}})}}const Mo="X-Sanity-Project-ID";function qo(t,e={}){const r={};t.headers&&Object.assign(r,t.headers);const n=e.token||t.token;n&&(r.Authorization=`Bearer ${n}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[Mo]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),s=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof s>"u"?300*1e3:s,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const fn=({query:t,params:e={},options:r={}})=>{const n=new URLSearchParams,{tag:i,includeMutations:s,returnQuery:o,...a}=r;i&&n.append("tag",i),n.append("query",t);for(const[c,u]of Object.entries(e))u!==void 0&&n.append(`$${c}`,JSON.stringify(u));for(const[c,u]of Object.entries(a))u&&n.append(c,`${u}`);return o===!1&&n.append("returnQuery","false"),s===!1&&n.append("includeMutations","false"),`?${n}`},Lo=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,Do=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:Lo(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),Et=t=>t.type==="response",Fo=t=>t.body,Uo=(t,e)=>t.reduce((r,n)=>(r[e(n)]=n,r),Object.create(null)),Vo=11264;function hn(t,e,r,n,i={},s={}){const o="stega"in s?{...r||{},...typeof s.stega=="boolean"?{enabled:s.stega}:s.stega||{}}:r,a=o.enabled?Hs(i):i,c=s.filterResponse===!1?v=>v:v=>v.result,{cache:u,next:p,...f}={useAbortSignal:typeof s.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":s.resultSourceMap,...s,returnQuery:s.filterResponse===!1&&s.returnQuery!==!1},d=typeof u<"u"||typeof p<"u"?{...f,fetch:{cache:u,next:p}}:f,l=ie(t,e,"query",{query:n,params:a},d);return o.enabled?l.pipe(Ps(Ae(hr(()=>import("./stegaEncodeSourceMap.CSLIt5lA.js"),__vite__mapDeps([0,1])).then(function(v){return v.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:v})=>v))),M(([v,h])=>{const w=h(v.result,v.resultSourceMap,o);return c({...v,result:w})})):l.pipe(M(c))}function de(t,e,r,n={}){const i=(()=>{if(!n.releaseId)return r;const o=Qr(r);if(!o){if(Be(r))throw new Error(`The document ID (\`${r}\`) is a draft, but \`options.releaseId\` is set as \`${n.releaseId}\``);return Se(r,n.releaseId)}if(o!==n.releaseId)throw new Error(`The document ID (\`${r}\`) is already a version of \`${o}\` release, but this does not match the provided \`options.releaseId\` (\`${n.releaseId}\`)`);return r})(),s={uri:U(t,"doc",i),json:!0,tag:n.tag,signal:n.signal,query:n.includeAllVersions!==void 0?{includeAllVersions:n.includeAllVersions}:void 0};return Oe(t,e,s).pipe(pe(Et),M(o=>{const a=o.body.documents;return a?n.includeAllVersions?a:a[0]:n.includeAllVersions?[]:void 0}))}function dn(t,e,r,n={}){const i={uri:U(t,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal};return Oe(t,e,i).pipe(pe(Et),M(s=>{const o=Uo(s.body.documents||[],a=>a._id);return r.map(a=>o[a]||null)}))}function pn(t,e,r,n={}){return ie(t,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:r}},n)}function yn(t,e,r,n){return he("createIfNotExists",r),Qe(t,e,r,"createIfNotExists",n)}function mn(t,e,r,n){return he("createOrReplace",r),Qe(t,e,r,"createOrReplace",n)}function vn(t,e,r,n,i){return he("createVersion",r),Zr("createVersion",r),xo(),$(t,e,{actionType:"sanity.action.document.version.create",publishedId:n,document:r},i)}function gn(t,e,r,n,i,s,o){if(!n)throw new Error("`createVersion()` requires `baseId` when no `document` is provided");if(!r)throw new Error("`createVersion()` requires `publishedId` when `baseId` is provided");Le("createVersion",n),Le("createVersion",r);const a={actionType:"sanity.action.document.version.create",publishedId:r,baseId:n,versionId:i?Se(r,i):Gr(r),ifBaseRevisionId:s};return $(t,e,a,o)}function bn(t,e,r,n){return ie(t,e,"mutate",{mutations:[{delete:an(r)}]},n)}function wn(t,e,r,n=!1,i){return $(t,e,{actionType:"sanity.action.document.version.discard",versionId:r,purge:n},i)}function En(t,e,r,n){return he("replaceVersion",r),Zr("replaceVersion",r),$(t,e,{actionType:"sanity.action.document.version.replace",document:r},n)}function In(t,e,r,n,i){return $(t,e,{actionType:"sanity.action.document.version.unpublish",versionId:r,publishedId:n},i)}function xn(t,e,r,n){let i;r instanceof Y||r instanceof re?i={patch:r.serialize()}:r instanceof ze||r instanceof Ge?i=r.serialize():i=r;const s=Array.isArray(i)?i:[i],o=n&&n.transactionId||void 0;return ie(t,e,"mutate",{mutations:s,transactionId:o},n)}function $(t,e,r,n){const i=Array.isArray(r)?r:[r],s=n&&n.transactionId||void 0,o=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return ie(t,e,"actions",{actions:i,transactionId:s,skipCrossDatasetReferenceValidation:o,dryRun:a},n)}function ie(t,e,r,n,i={}){const s=r==="mutate",o=r==="actions",a=r==="query",c=s||o?"":fn(n),u=!s&&!o&&c.length<Vo,p=u?c:"",f=i.returnFirst,{timeout:d,token:l,tag:v,headers:h,returnQuery:w,lastLiveEventId:E,cacheMode:x}=i,C=U(t,r,p),O={method:u?"GET":"POST",uri:C,json:!0,body:u?void 0:n,query:s&&Do(i),timeout:d,headers:h,token:l,tag:v,returnQuery:w,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(E)?E[0]:E,cacheMode:x,canUseCdn:a,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return Oe(t,e,O).pipe(pe(Et),M(Fo),M(P=>{if(!s)return P;const L=P.results||[];if(i.returnDocuments)return f?L[0]&&L[0].document:L.map(ye=>ye.document);const Ye=f?"documentId":"documentIds",Je=f?L[0]&&L[0].id:L.map(ye=>ye.id);return{transactionId:P.transactionId,results:L,[Ye]:Je}}))}function Qe(t,e,r,n,i={}){const s={[n]:r},o=Object.assign({returnFirst:!0,returnDocuments:!0},i);return ie(t,e,"mutate",{mutations:[s]},o)}const _e=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,Cn=(t,e)=>_e(t)&&e.startsWith(U(t,"query")),No=(t,e)=>_e(t)&&e.startsWith(U(t,"mutate")),Bo=(t,e)=>_e(t)&&e.startsWith(U(t,"doc","")),Ho=(t,e)=>_e(t)&&e.startsWith(U(t,"listen")),Wo=(t,e)=>_e(t)&&e.startsWith(U(t,"history","")),zo=(t,e)=>e.startsWith("/data/")||Cn(t,e)||No(t,e)||Bo(t,e)||Ho(t,e)||Wo(t,e);function Oe(t,e,r){const n=r.url||r.uri,i=t.config(),s=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&zo(t,n):r.canUseCdn;let o=(r.useCdn??i.useCdn)&&s;const a=r.tag&&i.requestTagPrefix?[i.requestTagPrefix,r.tag].join("."):r.tag||i.requestTagPrefix;if(a&&r.tag!==null&&(r.query={tag:en(a),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&Cn(t,n)){const p=r.resultSourceMap??i.resultSourceMap;p!==void 0&&p!==!1&&(r.query={resultSourceMap:p,...r.query});const f=r.perspective||i.perspective;typeof f<"u"&&(f==="previewDrafts"&&bo(),rn(f),r.query={perspective:Array.isArray(f)?f.join(","):f,...r.query},(Array.isArray(f)&&f.length>0||f==="previewDrafts"||f==="drafts")&&o&&(o=!1,go())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),r.returnQuery===!1&&(r.query={returnQuery:"false",...r.query}),o&&r.cacheMode=="noStale"&&(r.query={cacheMode:"noStale",...r.query})}const c=qo(i,Object.assign({},r,{url:It(t,n,o)})),u=new j(p=>e(c,i.requester).subscribe(p));return r.signal?u.pipe(Go(r.signal)):u}function R(t,e,r){return Oe(t,e,r).pipe(pe(n=>n.type==="response"),M(n=>n.body))}function U(t,e,r){const n=t.config();if(n["~experimental_resource"]){tn(n);const o=Jo(n),a=r!==void 0?`${e}/${r}`:e;return`${o}/${a}`.replace(/\/($|\?)/,"$1")}const i=ne(n),s=`/${e}/${i}`;return`/data${r!==void 0?`${s}/${r}`:s}`.replace(/\/($|\?)/,"$1")}function It(t,e,r=!1){const{url:n,cdnUrl:i}=t.config();return`${r?i:n}/${e.replace(/^\//,"")}`}function Go(t){return e=>new j(r=>{const n=()=>r.error(Yo(t));if(t&&t.aborted){n();return}const i=e.subscribe(r);return t.addEventListener("abort",n),()=>{t.removeEventListener("abort",n),i.unsubscribe()}})}const Qo=!!globalThis.DOMException;function Yo(t){if(Qo)return new DOMException(t?.reason??"The operation was aborted.","AbortError");const e=new Error(t?.reason??"The operation was aborted.");return e.name="AbortError",e}const Jo=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:r}=t["~experimental_resource"];switch(e){case"dataset":{const n=r.split(".");if(n.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${n[0]}/datasets/${n[1]}`}case"canvas":return`/canvases/${r}`;case"media-library":return`/media-libraries/${r}`;case"dashboard":return`/dashboards/${r}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function An(t,e,r){const n=ne(t.config());return R(t,e,{method:"POST",uri:`/agent/action/generate/${n}`,body:r})}function Xo(t,e,r){const n=ne(t.config());return R(t,e,{method:"POST",uri:`/agent/action/patch/${n}`,body:r})}function Ko(t,e,r){const n=ne(t.config());return R(t,e,{method:"POST",uri:`/agent/action/prompt/${n}`,body:r})}function Sn(t,e,r){const n=ne(t.config());return R(t,e,{method:"POST",uri:`/agent/action/transform/${n}`,body:r})}function _n(t,e,r){const n=ne(t.config());return R(t,e,{method:"POST",uri:`/agent/action/translate/${n}`,body:r})}class Zo{#t;#e;constructor(e,r){this.#t=e,this.#e=r}generate(e){return An(this.#t,this.#e,e)}transform(e){return Sn(this.#t,this.#e,e)}translate(e){return _n(this.#t,this.#e,e)}}class ea{#t;#e;constructor(e,r){this.#t=e,this.#e=r}generate(e){return A(An(this.#t,this.#e,e))}transform(e){return A(Sn(this.#t,this.#e,e))}translate(e){return A(_n(this.#t,this.#e,e))}prompt(e){return A(Ko(this.#t,this.#e,e))}patch(e){return A(Xo(this.#t,this.#e,e))}}class ta{#t;#e;constructor(e,r){this.#t=e,this.#e=r}upload(e,r,n){return On(this.#t,this.#e,e,r,n)}}class ra{#t;#e;constructor(e,r){this.#t=e,this.#e=r}upload(e,r,n){const i=On(this.#t,this.#e,e,r,n);return A(i.pipe(pe(s=>s.type==="response"),M(s=>s.body.document)))}}function On(t,e,r,n,i={}){lo(r);let s=i.extract||void 0;s&&!s.length&&(s=["none"]);const o=t.config(),a=ia(i,n),{tag:c,label:u,title:p,description:f,creditLine:d,filename:l,source:v}=a,h={label:u,title:p,description:f,filename:l,meta:s,creditLine:d};return v&&(h.sourceId=v.id,h.sourceName=v.name,h.sourceUrl=v.url),Oe(t,e,{tag:c,method:"POST",timeout:a.timeout||0,uri:na(o,r),headers:a.contentType?{"Content-Type":a.contentType}:{},query:h,body:n})}function na(t,e){const r=e==="image"?"images":"files";if(t["~experimental_resource"]){const{type:i,id:s}=t["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${s}/assets/${r}`;case"media-library":return`/media-libraries/${s}/upload`;case"dashboard":return`/dashboards/${s}/assets/${r}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const n=ne(t);return`assets/${r}/${n}`}function ia(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var sa=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((r,n)=>(r[n]=typeof t[n]>"u"?e[n]:t[n],r),{});const oa=(t,e)=>e.reduce((r,n)=>(typeof t[n]>"u"||(r[n]=t[n]),r),{}),Tn=Ur(()=>hr(()=>import("./browser.BBoKak07.js").then(t=>t.b),[])).pipe(M(({default:t})=>t),Ms(1));function kn(){return function(t){return t.pipe(Me((e,r)=>e instanceof sn?Ts(ae({type:"reconnect"}),ks(1e3).pipe(te(()=>r))):Lr(()=>e)))}}const aa=14800,ua=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],ca={includeResult:!0};function $n(t,e,r={}){const{url:n,token:i,withCredentials:s,requestTagPrefix:o,headers:a}=this.config(),c=r.tag&&o?[o,r.tag].join("."):r.tag,u={...sa(r,ca),tag:c},p=oa(u,ua),f=fn({query:t,params:e,options:{tag:c,...p}}),d=`${n}${U(this,"listen",f)}`;if(d.length>aa)return Lr(()=>new Error("Query too large for listener"));const l=u.events?u.events:["mutation"],v={};return s&&(v.withCredentials=!0),(i||a)&&(v.headers={},i&&(v.headers.Authorization=`Bearer ${i}`),a&&Object.assign(v.headers,a)),on(()=>(typeof EventSource>"u"||v.headers?Tn:ae(EventSource)).pipe(M(h=>new h(d,v))),l).pipe(kn(),pe(h=>l.includes(h.type)),M(h=>({type:h.type,..."data"in h?h.data:{}})))}function la(t,e){return fa(typeof t=="function"?{predicate:t,...e}:t)}function fa(t){return e=>{let r,n=!1;const{predicate:i,...s}=t,o=e.pipe(qs(c=>{t.predicate(c)&&(n=!0,r=c)}),Nr(()=>{n=!1,r=void 0}),Br(s)),a=new j(c=>{n&&c.next(r),c.complete()});return $s(o,a)}}const nr="2021-03-25";class jn{#t;constructor(e){this.#t=e}events({includeDrafts:e=!1,tag:r}={}){Z("live",this.#t.config());const{projectId:n,apiVersion:i,token:s,withCredentials:o,requestTagPrefix:a,headers:c}=this.#t.config(),u=i.replace(/^v/,"");if(u!=="X"&&u<nr)throw new Error(`The live events API requires API version ${nr} or later. The current API version is ${u}. Please update your API version to use this feature.`);if(e&&!s&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const p=U(this.#t,"live/events"),f=new URL(this.#t.getUrl(p,!1)),d=r&&a?[a,r].join("."):r;d&&f.searchParams.set("tag",d),e&&f.searchParams.set("includeDrafts","true");const l={};e&&o&&(l.withCredentials=!0),(e&&s||c)&&(l.headers={},e&&s&&(l.headers.Authorization=`Bearer ${s}`),c&&Object.assign(l.headers,c));const v=`${f.href}::${JSON.stringify(l)}`,h=st.get(v);if(h)return h;const w=on(()=>(typeof EventSource>"u"||l.headers?Tn:ae(EventSource)).pipe(M(C=>new C(f.href,l))),["message","restart","welcome","reconnect","goaway"]),E=ha(f,{method:"OPTIONS",mode:"cors",credentials:l.withCredentials?"include":"omit",headers:l.headers}).pipe(Me(()=>{throw new io({projectId:n})})),x=w.pipe(kn(),te(C=>C.type==="reconnect"?E.pipe(te(()=>ae(C))):ae(C)),Me(C=>E.pipe(te(()=>{throw C}))),M(C=>{if(C.type==="message"){const{data:O,...P}=C;return{...P,tags:O.tags}}return C})).pipe(Nr(()=>st.delete(v)),la({predicate:C=>C.type==="welcome"}));return st.set(v,x),x}}function ha(t,e){return new j(r=>{const n=new AbortController,i=n.signal;return fetch(t,{...e,signal:n.signal}).then(s=>{r.next(s),r.complete()},s=>{i.aborted||r.error(s)}),()=>n.abort()})}const st=new Map;class da{#t;#e;constructor(e,r){this.#t=e,this.#e=r}create(e,r){return ue(this.#t,this.#e,"PUT",e,r)}edit(e,r){return ue(this.#t,this.#e,"PATCH",e,r)}delete(e){return ue(this.#t,this.#e,"DELETE",e)}list(){Z("dataset",this.#t.config());const e=this.#t.config(),r=e.projectId;let n="/datasets";return e.useProjectHostname===!1&&(n=`/projects/${r}/datasets`),R(this.#t,this.#e,{uri:n,tag:null})}}class pa{#t;#e;constructor(e,r){this.#t=e,this.#e=r}create(e,r){return Z("dataset",this.#t.config()),A(ue(this.#t,this.#e,"PUT",e,r))}edit(e,r){return Z("dataset",this.#t.config()),A(ue(this.#t,this.#e,"PATCH",e,r))}delete(e){return Z("dataset",this.#t.config()),A(ue(this.#t,this.#e,"DELETE",e))}list(){Z("dataset",this.#t.config());const e=this.#t.config(),r=e.projectId;let n="/datasets";return e.useProjectHostname===!1&&(n=`/projects/${r}/datasets`),A(R(this.#t,this.#e,{uri:n,tag:null}))}}function ue(t,e,r,n,i){return Z("dataset",t.config()),Kr(n),R(t,e,{method:r,uri:`/datasets/${n}`,body:i,tag:null})}class Rn{#t;#e;constructor(e,r){this.#t=e,this.#e=r}getPlaybackInfo(e,r={}){const n=this.#t.config()["~experimental_resource"]?.id,{instanceId:i,libraryId:s}=ga(e),o=s||n;if(!o)throw new Error("Could not determine Media Library ID - you need to provide a valid Media Library ID in the client config or a Media Library GDR");const a=ba(i,o),c=wa(r);return R(this.#t,this.#e,{method:"GET",uri:a,query:c})}}class ya{#t;#e;constructor(e,r){this.#t=e,this.#e=r}getPlaybackInfo(e,r={}){return A(new Rn(this.#t.observable,this.#e).getPlaybackInfo(e,r))}}const ma=/^media-library:(ml[^:]+):([^:]+)$/;function va(t){return typeof t=="object"&&"_ref"in t}function ga(t){const e=va(t)?t._ref:t,r=ma.exec(e);if(r){const[,n,i]=r;return{libraryId:n,instanceId:i}}if(typeof t=="string"&&t.startsWith("video-"))return{instanceId:t};throw new Error(`Invalid video asset instance identifier "${e}": must be a valid video instance id or a Global Dataset Reference (GDR) to the video asset in the Media Library`)}function ba(t,e){return`/media-libraries/${e}/video/${t}/playback-info`}function wa(t){const e={};if(t.transformations){const{thumbnail:r,animated:n,storyboard:i}=t.transformations;r&&(r.width&&(e.thumbnailWidth=r.width),r.height&&(e.thumbnailHeight=r.height),r.time!==void 0&&(e.thumbnailTime=r.time),r.fit&&(e.thumbnailFit=r.fit),r.format&&(e.thumbnailFormat=r.format)),n&&(n.width&&(e.animatedWidth=n.width),n.height&&(e.animatedHeight=n.height),n.start!==void 0&&(e.animatedStart=n.start),n.end!==void 0&&(e.animatedEnd=n.end),n.fps&&(e.animatedFps=n.fps),n.format&&(e.animatedFormat=n.format)),i&&i.format&&(e.storyboardFormat=i.format)}return t.expiration&&(e.expiration=t.expiration),e}class Ea{#t;#e;constructor(e,r){this.#t=e,this.#e=r}list(e){const r={},n="/projects";return e?.includeMembers===!1&&(r.includeMembers="false"),e?.organizationId&&(r.organizationId=e.organizationId),R(this.#t,this.#e,{uri:n,query:r})}getById(e){return R(this.#t,this.#e,{uri:`/projects/${e}`})}}class Ia{#t;#e;constructor(e,r){this.#t=e,this.#e=r}list(e){const r={},n="/projects";return e?.includeMembers===!1&&(r.includeMembers="false"),e?.organizationId&&(r.organizationId=e.organizationId),A(R(this.#t,this.#e,{uri:n,query:r}))}getById(e){return A(R(this.#t,this.#e,{uri:`/projects/${e}`}))}}const ir=Ys("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),De=(t,e)=>e?Se(t,e):Gr(t);function Fe(t,{releaseId:e,publishedId:r,document:n}){if(r&&n._id){const i=De(r,e);return ho(i,n),i}if(n._id){const i=Be(n._id),s=He(n._id);if(!i&&!s)throw new Error(`\`${t}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(i)throw new Error(`\`${t}()\` was called with a document ID (\`${n._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const o=Qr(n._id);if(o!==e)throw new Error(`\`${t}()\` was called with a document ID (\`${n._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${o}\`).`)}return n._id}if(r)return De(r,e);throw new Error(`\`${t}()\` requires either a publishedId or a document with an \`_id\``)}const xa=(t,e)=>{if(typeof t=="object"&&t!==null&&("releaseId"in t||"metadata"in t)){const{releaseId:r=ir(),metadata:n={}}=t;return[r,n,e]}return[ir(),{},t]},Pn=(t,e)=>{const[r,n,i]=xa(t,e),s={...n,releaseType:n.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:r,metadata:s},options:i}};class Ca{#t;#e;constructor(e,r){this.#t=e,this.#e=r}get({releaseId:e},r){return de(this.#t,this.#e,`_.releases.${e}`,r)}create(e,r){const{action:n,options:i}=Pn(e,r),{releaseId:s,metadata:o}=n;return $(this.#t,this.#e,n,i).pipe(M(a=>({...a,releaseId:s,metadata:o})))}edit({releaseId:e,patch:r},n){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:r};return $(this.#t,this.#e,i,n)}publish({releaseId:e},r){const n={actionType:"sanity.action.release.publish",releaseId:e};return $(this.#t,this.#e,n,r)}archive({releaseId:e},r){const n={actionType:"sanity.action.release.archive",releaseId:e};return $(this.#t,this.#e,n,r)}unarchive({releaseId:e},r){const n={actionType:"sanity.action.release.unarchive",releaseId:e};return $(this.#t,this.#e,n,r)}schedule({releaseId:e,publishAt:r},n){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:r};return $(this.#t,this.#e,i,n)}unschedule({releaseId:e},r){const n={actionType:"sanity.action.release.unschedule",releaseId:e};return $(this.#t,this.#e,n,r)}delete({releaseId:e},r){const n={actionType:"sanity.action.release.delete",releaseId:e};return $(this.#t,this.#e,n,r)}fetchDocuments({releaseId:e},r){return pn(this.#t,this.#e,e,r)}}class Aa{#t;#e;constructor(e,r){this.#t=e,this.#e=r}get({releaseId:e},r){return A(de(this.#t,this.#e,`_.releases.${e}`,r))}async create(e,r){const{action:n,options:i}=Pn(e,r),{releaseId:s,metadata:o}=n;return{...await A($(this.#t,this.#e,n,i)),releaseId:s,metadata:o}}edit({releaseId:e,patch:r},n){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:r};return A($(this.#t,this.#e,i,n))}publish({releaseId:e},r){const n={actionType:"sanity.action.release.publish",releaseId:e};return A($(this.#t,this.#e,n,r))}archive({releaseId:e},r){const n={actionType:"sanity.action.release.archive",releaseId:e};return A($(this.#t,this.#e,n,r))}unarchive({releaseId:e},r){const n={actionType:"sanity.action.release.unarchive",releaseId:e};return A($(this.#t,this.#e,n,r))}schedule({releaseId:e,publishAt:r},n){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:r};return A($(this.#t,this.#e,i,n))}unschedule({releaseId:e},r){const n={actionType:"sanity.action.release.unschedule",releaseId:e};return A($(this.#t,this.#e,n,r))}delete({releaseId:e},r){const n={actionType:"sanity.action.release.delete",releaseId:e};return A($(this.#t,this.#e,n,r))}fetchDocuments({releaseId:e},r){return A(pn(this.#t,this.#e,e,r))}}class Sa{#t;#e;constructor(e,r){this.#t=e,this.#e=r}getById(e){return R(this.#t,this.#e,{uri:`/users/${e}`})}}class _a{#t;#e;constructor(e,r){this.#t=e,this.#e=r}getById(e){return A(R(this.#t,this.#e,{uri:`/users/${e}`}))}}class Ue{assets;datasets;live;mediaLibrary;projects;users;agent;releases;#t;#e;listen=$n;constructor(e,r=Ie){this.config(r),this.#e=e,this.assets=new ta(this,this.#e),this.datasets=new da(this,this.#e),this.live=new jn(this),this.mediaLibrary={video:new Rn(this,this.#e)},this.projects=new Ea(this,this.#e),this.users=new Sa(this,this.#e),this.agent={action:new Zo(this,this.#e)},this.releases=new Ca(this,this.#e)}clone(){return new Ue(this.#e,this.config())}config(e){if(e===void 0)return{...this.#t};if(this.#t&&this.#t.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.#t=nn(e,this.#t||{}),this}withConfig(e){const r=this.config();return new Ue(this.#e,{...r,...e,stega:{...r.stega||{},...typeof e?.stega=="boolean"?{enabled:e.stega}:e?.stega||{}}})}fetch(e,r,n){return hn(this,this.#e,this.#t.stega,e,r,n)}getDocument(e,r){if(r?.includeAllVersions===!0)return de(this,this.#e,e,{...r,includeAllVersions:!0});const n={signal:r?.signal,tag:r?.tag,releaseId:r?.releaseId,...r&&"includeAllVersions"in r?{includeAllVersions:!1}:{}};return de(this,this.#e,e,n)}getDocuments(e,r){return dn(this,this.#e,e,r)}create(e,r){return Qe(this,this.#e,e,"create",r)}createIfNotExists(e,r){return yn(this,this.#e,e,r)}createOrReplace(e,r){return mn(this,this.#e,e,r)}createVersion({document:e,publishedId:r,releaseId:n,baseId:i,ifBaseRevisionId:s},o){if(!e)return gn(this,this.#e,r,i,n,s,o);const a=Fe("createVersion",{document:e,publishedId:r,releaseId:n}),c={...e,_id:a},u=r||We(e._id);return vn(this,this.#e,c,u,o)}delete(e,r){return bn(this,this.#e,e,r)}discardVersion({releaseId:e,publishedId:r},n,i){const s=De(r,e);return wn(this,this.#e,s,n,i)}replaceVersion({document:e,publishedId:r,releaseId:n},i){const s=Fe("replaceVersion",{document:e,publishedId:r,releaseId:n}),o={...e,_id:s};return En(this,this.#e,o,i)}unpublishVersion({releaseId:e,publishedId:r},n){const i=Se(r,e);return In(this,this.#e,i,r,n)}mutate(e,r){return xn(this,this.#e,e,r)}patch(e,r){return new re(e,r,this)}transaction(e){return new Ge(e,this)}action(e,r){return $(this,this.#e,e,r)}request(e){return R(this,this.#e,e)}getUrl(e,r){return It(this,e,r)}getDataUrl(e,r){return U(this,e,r)}}class Ve{assets;datasets;live;mediaLibrary;projects;users;agent;releases;observable;#t;#e;listen=$n;constructor(e,r=Ie){this.config(r),this.#e=e,this.assets=new ra(this,this.#e),this.datasets=new pa(this,this.#e),this.live=new jn(this),this.mediaLibrary={video:new ya(this,this.#e)},this.projects=new Ia(this,this.#e),this.users=new _a(this,this.#e),this.agent={action:new ea(this,this.#e)},this.releases=new Aa(this,this.#e),this.observable=new Ue(e,r)}clone(){return new Ve(this.#e,this.config())}config(e){if(e===void 0)return{...this.#t};if(this.#t&&this.#t.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),this.#t=nn(e,this.#t||{}),this}withConfig(e){const r=this.config();return new Ve(this.#e,{...r,...e,stega:{...r.stega||{},...typeof e?.stega=="boolean"?{enabled:e.stega}:e?.stega||{}}})}fetch(e,r,n){return A(hn(this,this.#e,this.#t.stega,e,r,n))}getDocument(e,r){if(r?.includeAllVersions===!0)return A(de(this,this.#e,e,{...r,includeAllVersions:!0}));const n={signal:r?.signal,tag:r?.tag,releaseId:r?.releaseId,...r&&"includeAllVersions"in r?{includeAllVersions:!1}:{}};return A(de(this,this.#e,e,n))}getDocuments(e,r){return A(dn(this,this.#e,e,r))}create(e,r){return A(Qe(this,this.#e,e,"create",r))}createIfNotExists(e,r){return A(yn(this,this.#e,e,r))}createOrReplace(e,r){return A(mn(this,this.#e,e,r))}createVersion({document:e,publishedId:r,releaseId:n,baseId:i,ifBaseRevisionId:s},o){if(!e)return tt(gn(this,this.#e,r,i,n,s,o));const a=Fe("createVersion",{document:e,publishedId:r,releaseId:n}),c={...e,_id:a},u=r||We(e._id);return tt(vn(this,this.#e,c,u,o))}delete(e,r){return A(bn(this,this.#e,e,r))}discardVersion({releaseId:e,publishedId:r},n,i){const s=De(r,e);return A(wn(this,this.#e,s,n,i))}replaceVersion({document:e,publishedId:r,releaseId:n},i){const s=Fe("replaceVersion",{document:e,publishedId:r,releaseId:n}),o={...e,_id:s};return tt(En(this,this.#e,o,i))}unpublishVersion({releaseId:e,publishedId:r},n){const i=Se(r,e);return A(In(this,this.#e,i,r,n))}mutate(e,r){return A(xn(this,this.#e,e,r))}patch(e,r){return new Y(e,r,this)}transaction(e){return new ze(e,this)}action(e,r){return A($(this,this.#e,e,r))}request(e){return A(R(this,this.#e,e))}dataRequest(e,r,n){return A(ie(this,this.#e,e,r,n))}getUrl(e,r){return It(this,e,r)}getDataUrl(e,r){return U(this,e,r)}}function Oa(t,e){return{requester:Kt(t),createClient:r=>{const n=Kt(t,{ignoreWarnings:r.ignoreWarnings});return new e((i,s)=>(s||n)({maxRedirects:0,maxRetries:r.maxRetries,retryDelay:r.retryDelay,...i}),r)}}}var Ta=[];const ka=Oa(Ta,Ve),$a=ka.createClient;var ot={};const ja=$a({projectId:ot.SANITY_PROJECT_ID||"ui98z82j",dataset:ot.SANITY_DATASET||"production",apiVersion:"2025-10-03",useCdn:!1,token:ot.SANITY_AUTH_TOKEN}),Ra=vi(ja);function Pa(t){return Ra.image(t)}const Ma={types:{image:({value:t})=>S.jsx("img",{src:Pa(t).width(1200).url(),alt:t?.alt||"Image",className:"my-6 rounded-lg",loading:"lazy"})}};function Fa({value:t}){return S.jsx(fi,{value:t,components:Ma})}export{Da as C,Fa as P,Dn as g,Hr as i};
